# üìÑ HTML-–ó–í–Ü–¢–ò - –î–û–ö–£–ú–ï–ù–¢–ê–¶–Ü–Ø

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ø–µ—Ä–µ–¥–Ω—å–æ PDF-–∑–≤—ñ—Ç–∏ –≥–µ–Ω–µ—Ä—É–≤–∞–ª–∏—Å—å —á–µ—Ä–µ–∑ `html2canvas` + `jsPDF`, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏–ª–æ –¥–æ:
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö —Ä–æ–∑—Ä–∏–≤—ñ–≤ —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- ‚ùå –†–æ–∑—Ä–∏–≤—É —Ç–∞–±–ª–∏—Ü—å —ñ —Ç–µ–∫—Å—Ç—É –ø–æ—Å–µ—Ä–µ–¥–∏–Ω—ñ
- ‚ùå –í–µ–ª–∏–∫–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É —Ñ–∞–π–ª—ñ–≤ (40+ MB)
- ‚ùå –î–æ–≤–≥–æ–≥–æ —á–∞—Å—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó

## –†—ñ—à–µ–Ω–Ω—è
–ó–∞–º—ñ–Ω–µ–Ω–æ –Ω–∞ **HTML-–∑–≤—ñ—Ç–∏**, —è–∫—ñ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è —É –Ω–æ–≤—ñ–π –≤–∫–ª–∞–¥—Ü—ñ –±—Ä–∞—É–∑–µ—Ä–∞.

### –ü–µ—Ä–µ–≤–∞–≥–∏ HTML-–∑–≤—ñ—Ç—ñ–≤:
- ‚úÖ **–ë—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–µ—Ä—É—î —Ä–æ–∑—Ä–∏–≤–∞–º–∏** —á–µ—Ä–µ–∑ CSS `@media print`
- ‚úÖ **–¢–∞–±–ª–∏—Ü—ñ –Ω–µ —Ä–æ–∑—Ä–∏–≤–∞—é—Ç—å—Å—è** –∑–∞–≤–¥—è–∫–∏ `page-break-inside: avoid`
- ‚úÖ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –∑–≤—ñ—Ç** –ø–µ—Ä–µ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º
- ‚úÖ **–ú–æ–∂–Ω–∞ –∑–±–µ—Ä–µ–≥—Ç–∏ —è–∫ PDF** —á–µ—Ä–µ–∑ Ctrl+P ‚Üí "–ó–±–µ—Ä–µ–≥—Ç–∏ —è–∫ PDF"
- ‚úÖ **–ú–æ–∂–Ω–∞ —Ä–æ–∑–¥—Ä—É–∫—É–≤–∞—Ç–∏** –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ **–®–≤–∏–¥–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è** - –±–µ–∑ html2canvas
- ‚úÖ **–ú–∞–ª–∏–π —Ä–æ–∑–º—ñ—Ä** - –±—Ä–∞—É–∑–µ—Ä –æ–ø—Ç–∏–º—ñ–∑—É—î PDF

## –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏

### 1. `/app/frontend/src/htmlReportExport.js`
**–§—É–Ω–∫—Ü—ñ—è:** `openHTMLReport(analysisResult)`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ä–µ–≥—ñ–æ–Ω—É

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–≤—ñ—Ç—É:**
1. –¢–∏—Ç—É–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –±–∞–ª–æ–º —Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é
2. –ó–º—ñ—Å—Ç –∑–≤—ñ—Ç—É
3. –ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É (—Ç–∞–±–ª–∏—Ü—è —Ñ–∞–∫—Ç–æ—Ä—ñ–≤)
4. –í–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ (–¥–µ—Ç–∞–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è)
5. –§–∞–∫—Ç–æ—Ä 1: –ü–æ–ø–∏—Ç (–ø–æ–∫—Ä–æ–∫–æ–≤—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏)
6. –§–∞–∫—Ç–æ—Ä 2: –ü–ó–§
7. –§–∞–∫—Ç–æ—Ä 3: –ü—Ä–∏—Ä–æ–¥–∞
8. –§–∞–∫—Ç–æ—Ä 4: –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
9. –§–∞–∫—Ç–æ—Ä 5: –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
10. –§–∞–∫—Ç–æ—Ä 6: –ü–æ–∂–µ–∂—ñ
11. –§–∞–∫—Ç–æ—Ä 7: –ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å
12. –ü—ñ–¥—Å—É–º–∫–æ–≤–∞ —Ç–∞–±–ª–∏—Ü—è –±–∞–ª—ñ–≤
13. –Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
14. –ë—ñ–±–ª—ñ–æ–≥—Ä–∞—Ñ—ñ—è

### 2. `/app/frontend/src/htmlCompareReport.js`
**–§—É–Ω–∫—Ü—ñ—è:** `openHTMLCompare(allRegions)`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∑–≤—ñ—Ç –¥–ª—è –≤—Å—ñ—Ö 24 –æ–±–ª–∞—Å—Ç–µ–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–≤—ñ—Ç—É:**
1. –¢–∏—Ç—É–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ (–ª—ñ–¥–µ—Ä —ñ –Ω–∞–π–Ω–∏–∂—á–∏–π –ø–æ–∫–∞–∑–Ω–∏–∫)
2. –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Å–µ—Ä–µ–¥–Ω—î, –º–µ–¥—ñ–∞–Ω–∞, –¥—ñ–∞–ø–∞–∑–æ–Ω)
3. –ó–∞–≥–∞–ª—å–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (—Ç–∞–±–ª–∏—Ü—è –∑ –º–µ–¥–∞–ª—è–º–∏ ü•áü•àü•â)
4. –î–µ—Ç–∞–ª—å–Ω–∞ —Ä–æ–∑–±–∏–≤–∫–∞ –∑–∞ 7 —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏
5. –¢–û–ü-5 –∑–∞ –æ–∫—Ä–µ–º–∏–º–∏ —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏:
   - –ü–æ–ø–∏—Ç
   - –ü–ó–§
   - –ü—Ä–∏—Ä–æ–¥–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏
   - –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å
6. –í–∏—Å–Ω–æ–≤–∫–∏ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ App.js

### –ó–º—ñ–Ω–∏ –≤ —ñ–º–ø–æ—Ä—Ç–∞—Ö:
```javascript
import { openHTMLReport } from './htmlReportExport';
import { openHTMLCompare } from './htmlCompareReport';
```

### –ó–º—ñ–Ω–∏ —É —Ñ—É–Ω–∫—Ü—ñ—è—Ö:

**1. –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç:**
```javascript
const exportPDF = async () => {
  console.log('üîç exportPDF called - opening HTML report');
  if (!analysisResult) {
    alert('–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É');
    return;
  }
  openHTMLReport(analysisResult);
};
```

**2. –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∑–≤—ñ—Ç:**
```javascript
const exportComparisonPDF = async () => {
  if (allAnalysis.length === 0) {
    alert('–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è');
    return;
  }
  openHTMLCompare(allAnalysis);
};
```

## –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å

### –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

1. **–ö–ª—ñ–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É –µ–∫—Å–ø–æ—Ä—Ç—É** ‚Üí –í—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –Ω–æ–≤–∞ –≤–∫–ª–∞–¥–∫–∞ –∑ HTML-–∑–≤—ñ—Ç–æ–º
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑'—è–≤–ª—è—î—Ç—å—Å—è –¥—ñ–∞–ª–æ–≥ –¥—Ä—É–∫—É** (–º–æ–∂–Ω–∞ –≤—ñ–¥–º—ñ–Ω–∏—Ç–∏ ESC)
3. **–£ –¥—ñ–∞–ª–æ–∑—ñ –¥—Ä—É–∫—É:**
   - Windows/Linux: `Ctrl + P`
   - Mac: `Cmd + P`
4. **–í–∏–±—Ä–∞—Ç–∏ "–ó–±–µ—Ä–µ–≥—Ç–∏ —è–∫ PDF"** –≤ –ø—Ä–∏–Ω—Ç–µ—Ä—ñ
5. **–ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "–ó–±–µ—Ä–µ–≥—Ç–∏"**

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ:
- –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–≤—ñ—Ç —É –±—Ä–∞—É–∑–µ—Ä—ñ
- –†–æ–∑–¥—Ä—É–∫—É–≤–∞—Ç–∏ –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä—ñ
- –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç
- –ó–±–µ—Ä–µ–≥—Ç–∏ HTML-—Ñ–∞–π–ª —á–µ—Ä–µ–∑ "–ó–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É"

## CSS –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö —Ä–æ–∑—Ä–∏–≤—ñ–≤

### –ö–ª—é—á–æ–≤—ñ –ø—Ä–∞–≤–∏–ª–∞ –¥—Ä—É–∫—É:

```css
@media print {
  h2 {
    page-break-before: always;  /* –ö–æ–∂–µ–Ω —Ä–æ–∑–¥—ñ–ª –Ω–∞ –Ω–æ–≤—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ */
  }
  
  table, .formula-box, .step-box {
    page-break-inside: avoid;   /* –ù–µ —Ä–æ–∑—Ä–∏–≤–∞—Ç–∏ —Ç–∞–±–ª–∏—Ü—ñ */
  }
  
  .section {
    page-break-inside: avoid;   /* –ù–µ —Ä–æ–∑—Ä–∏–≤–∞—Ç–∏ —Å–µ–∫—Ü—ñ—ó */
  }
}

@page {
  size: A4;
  margin: 20mm;
}
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:
1. ‚úÖ –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –∑–≤—ñ—Ç—É —É –Ω–æ–≤—ñ–π –≤–∫–ª–∞–¥—Ü—ñ
2. ‚úÖ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–∂–æ–≤—Ç–∏–π –±–ª–æ–∫)
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥—ñ–∞–ª–æ–≥ –¥—Ä—É–∫—É
4. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ñ —Ä–æ–∑—Ä–∏–≤–∏ —Å—Ç–æ—Ä—ñ–Ω–æ–∫
5. ‚úÖ –¢–∞–±–ª–∏—Ü—ñ –Ω–µ —Ä–æ–∑—Ä–∏–≤–∞—é—Ç—å—Å—è
6. ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —è–∫ PDF –ø—Ä–∞—Ü—é—î
7. ‚úÖ –†–æ–∑–º—ñ—Ä PDF <5MB

### –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
sudo supervisorctl status

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É
tail -50 /var/log/supervisor/frontend.out.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
sudo supervisorctl restart frontend
```

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –†–æ–∑–º—ñ—Ä —à—Ä–∏—Ñ—Ç—ñ–≤:
- Body: 12pt (–Ω–∞ –µ–∫—Ä–∞–Ω—ñ) ‚Üí 11pt (–ø—Ä–∏ –¥—Ä—É–∫—É)
- H1: 20pt ‚Üí 22pt
- H2: 16pt
- H3: 14pt
- –¢–∞–±–ª–∏—Ü—ñ: 11pt ‚Üí 10pt

### –ö–æ–ª—å–æ—Ä–∏:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤—ñ–¥—Ç—ñ–Ω–∫–∏ —Å—ñ—Ä–æ–≥–æ –¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –∑ —á/–± –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏
- –ñ–æ–≤—Ç–∏–π —Ñ–æ–Ω (—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è) ‚Äî `no-print` class, –Ω–µ –¥—Ä—É–∫—É—î—Ç—å—Å—è

### –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å –±—Ä–∞—É–∑–µ—Ä—ñ–≤:
- ‚úÖ Chrome/Edge
- ‚úÖ Firefox
- ‚úÖ Safari
- ‚úÖ Opera

## –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è: PDF vs HTML

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –°—Ç–∞—Ä–∏–π PDF | –ù–æ–≤–∏–π HTML |
|---------------|-----------|------------|
| –†–æ–∑—Ä–∏–≤–∏ —Å—Ç–æ—Ä—ñ–Ω–æ–∫ | ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ |
| –†–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É | 40+ MB | 2-5 MB |
| –ß–∞—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó | 10-15 —Å–µ–∫ | <1 —Å–µ–∫ |
| –¢–∞–±–ª–∏—Ü—ñ | ‚ùå –†–æ–∑—Ä–∏–≤–∞—é—Ç—å—Å—è | ‚úÖ –¶—ñ–ª—ñ |
| –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ | ‚ùå –ù—ñ | ‚úÖ –¢–∞–∫ |
| –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è | ‚ùå –ù—ñ | ‚úÖ –ú–æ–∂–Ω–∞ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ |

## –°—Ç–∞—Ä—ñ —Ñ–∞–π–ª–∏ (–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–æ –¥–ª—è —Ä–µ–∑–µ—Ä–≤—É)

- `/app/frontend/src/enhancedPDFExport.js` - —Å—Ç–∞—Ä–∏–π PDF-–µ–∫—Å–ø–æ—Ä—Ç
- `/app/frontend/src/enhancedComparePDF.js` - —Å—Ç–∞—Ä–∏–π –ø–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π PDF
- `/app/frontend/src/finalPDFExport.js` - —â–µ –æ–¥–Ω–∞ –≤–µ—Ä—Å—ñ—è PDF
- `/app/frontend/src/finalComparePDF.js` - —â–µ –æ–¥–Ω–∞ –≤–µ—Ä—Å—ñ—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –°—Ç–∞—Ä—ñ —Ñ–∞–π–ª–∏ –∑–∞–ª–∏—à–µ–Ω—ñ –¥–ª—è –º–æ–∂–ª–∏–≤–æ–≥–æ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è, –∞–ª–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è.

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –¥–æ–∑–≤–æ–ª–µ–Ω—ñ —Å–ø–ª–∏–≤–∞—é—á—ñ –≤—ñ–∫–Ω–∞
2. –û–Ω–æ–≤–∏—Ç–∏ –±—Ä–∞—É–∑–µ—Ä –¥–æ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó
3. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —ñ–Ω—à–∏–π –±—Ä–∞—É–∑–µ—Ä
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –ø–æ–º–∏–ª–∫–∏

---

**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:** ${new Date().toLocaleDateString('uk-UA')}
**–í–µ—Ä—Å—ñ—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
